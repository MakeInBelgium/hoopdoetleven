{{ $playlistId := .Get "id" }}
{{ $shuffle := "false" }}
{{ $length := "5" }}
{{ $loop := "false" }}
{{ with .Get "shuffle" }}{{ $shuffle = printf "%s" . }}{{ end }}
{{ with .Get "length" }}{{ $length = printf "%s" . }}{{ end }}
{{ with .Get "loop" }} {{ $loop = printf "%s" .}}{{ end }}
{{- .Page.Scratch.Set "hasPlaylist" true }}
{{/*  The length parameter is used to generate a random number between zero and $length, to set the starting index of the playlist  */}}
<div class="embed-responsive embed-responsive-16by9">
    <div class="youtube-playlist embed-responsive-item" loading="lazy" data-playlist="{{ $playlistId }}" data-shuffle="{{ $shuffle }}" data-length="{{ $length }}" data-loop="{{ $loop }}"></div> 
</div>
